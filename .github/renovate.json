{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "group:monorepos",
    "group:recommended",
    "helpers:pinGitHubActionDigests",
    ":dependencyDashboard",
    ":semanticCommits",
    ":separateMajorReleases",
    ":ignoreUnstable",
    ":rebaseStalePrs"
  ],
  "description": "Renovate configuration for admin-ui-service (Bun + Angular)",
  "timezone": "America/New_York",
  "schedule": ["before 10am on Monday"],
  "prHourlyLimit": 10,
  "prConcurrentLimit": 100,
  "assignees": ["jsamuelsen11"],
  "labels": ["dependencies"],
  "rangeStrategy": "bump",
  "rebaseWhen": "auto",
  "platformAutomerge": true,
  "bun": {
    "enabled": true
  },
  "pre-commit": {
    "enabled": true
  },
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": ["before 5am on the first day of the month"],
    "commitMessageAction": "Update",
    "commitMessageExtra": "lockfile maintenance"
  },
  "vulnerabilityAlerts": {
    "enabled": true,
    "labels": ["security", "dependencies"],
    "schedule": ["at any time"],
    "automerge": true
  },
  "packageRules": [
    {
      "description": "Vulnerability alerts - high priority",
      "matchCategories": ["security"],
      "prPriority": 10
    },
    {
      "description": "Production dependencies - patch updates (automerge)",
      "matchDepTypes": ["dependencies"],
      "matchUpdateTypes": ["patch"],
      "groupName": "production-patch",
      "groupSlug": "production-patch",
      "labels": ["dependencies", "javascript", "bun"],
      "semanticCommitType": "deps",
      "semanticCommitScope": "deps",
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Production dependencies - minor updates (manual review)",
      "matchDepTypes": ["dependencies"],
      "matchUpdateTypes": ["minor"],
      "groupName": "production-minor",
      "groupSlug": "production-minor",
      "labels": ["dependencies", "javascript", "bun"],
      "semanticCommitType": "deps",
      "semanticCommitScope": "deps",
      "automerge": false
    },
    {
      "description": "Production dependencies - major updates (manual review)",
      "matchDepTypes": ["dependencies"],
      "matchUpdateTypes": ["major"],
      "labels": ["dependencies", "javascript", "bun", "breaking"],
      "semanticCommitType": "deps",
      "semanticCommitScope": "deps",
      "automerge": false
    },
    {
      "description": "Development dependencies - minor and patch updates (automerge)",
      "matchDepTypes": ["devDependencies"],
      "matchUpdateTypes": ["minor", "patch"],
      "groupName": "development-minor-patch",
      "groupSlug": "development-minor-patch",
      "labels": ["dependencies", "javascript", "bun"],
      "semanticCommitType": "deps-dev",
      "semanticCommitScope": "deps-dev",
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Development dependencies - major updates (manual review)",
      "matchDepTypes": ["devDependencies"],
      "matchUpdateTypes": ["major"],
      "labels": ["dependencies", "javascript", "bun", "breaking"],
      "semanticCommitType": "deps-dev",
      "semanticCommitScope": "deps-dev",
      "automerge": false
    },
    {
      "description": "Angular ecosystem - group together",
      "groupName": "angular",
      "groupSlug": "angular",
      "labels": ["dependencies", "javascript", "angular"],
      "matchPackageNames": ["/^@angular//"]
    },
    {
      "description": "Angular packages - disable major updates (require manual upgrade)",
      "matchUpdateTypes": ["major"],
      "enabled": false,
      "matchPackageNames": ["/^@angular//"]
    },
    {
      "description": "AnalogJS packages - group together",
      "groupName": "analogjs",
      "groupSlug": "analogjs",
      "labels": ["dependencies", "javascript", "angular"],
      "matchPackageNames": ["/^@analogjs//"]
    },
    {
      "description": "PrimeNG ecosystem - group together",
      "groupName": "primeng",
      "groupSlug": "primeng",
      "labels": ["dependencies", "javascript", "ui"],
      "matchPackageNames": ["/^primeng$/", "/^primeicons$/", "/^@primeng//"]
    },
    {
      "description": "TanStack packages - group together",
      "groupName": "tanstack",
      "groupSlug": "tanstack",
      "labels": ["dependencies", "javascript"],
      "matchPackageNames": ["/^@tanstack//"]
    },
    {
      "description": "Testing tools - group together",
      "groupName": "testing",
      "groupSlug": "testing",
      "labels": ["dependencies", "javascript", "testing"],
      "matchPackageNames": [
        "/^@playwright//",
        "/^playwright$/",
        "/^@vitest//",
        "/^vitest$/",
        "/^jasmine/",
        "/^@types/jasmine$/"
      ]
    },
    {
      "description": "Vitest - disable major updates (Angular compatibility)",
      "matchUpdateTypes": ["major"],
      "enabled": false,
      "matchPackageNames": ["/^vitest$/", "/^@vitest//"]
    },
    {
      "description": "ESLint ecosystem - group together",
      "groupName": "eslint",
      "groupSlug": "eslint",
      "labels": ["dependencies", "javascript", "linting"],
      "matchPackageNames": [
        "/^eslint/",
        "/^@eslint//",
        "/^@typescript-eslint//",
        "/^angular-eslint$/"
      ]
    },
    {
      "description": "Build tools - group together",
      "groupName": "build-tools",
      "groupSlug": "build-tools",
      "labels": ["dependencies", "javascript", "build"],
      "matchPackageNames": [
        "/^@tailwindcss//",
        "/^tailwindcss$/",
        "/^postcss$/",
        "/^autoprefixer$/"
      ]
    },
    {
      "description": "TypeScript and types - group together",
      "groupName": "typescript",
      "groupSlug": "typescript",
      "labels": ["dependencies", "javascript"],
      "matchPackageNames": ["/^typescript$/", "/^typescript-eslint$/"]
    },
    {
      "description": "Node types - disable major updates",
      "matchPackageNames": ["@types/node"],
      "matchUpdateTypes": ["major"],
      "enabled": false
    },
    {
      "description": "GitHub Actions - group all updates (automerge)",
      "matchManagers": ["github-actions"],
      "groupName": "github-actions",
      "groupSlug": "github-actions",
      "labels": ["dependencies", "github-actions"],
      "semanticCommitType": "ci",
      "semanticCommitScope": "actions",
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Docker base images",
      "matchManagers": ["dockerfile"],
      "labels": ["dependencies", "docker"],
      "semanticCommitType": "docker",
      "semanticCommitScope": "deps",
      "automerge": false
    },
    {
      "description": "Docker Compose",
      "matchManagers": ["docker-compose"],
      "labels": ["dependencies", "docker"],
      "semanticCommitType": "docker",
      "semanticCommitScope": "deps",
      "automerge": false
    },
    {
      "description": "Pin Bun runtime version in Dockerfiles",
      "matchDatasources": ["docker"],
      "matchPackageNames": ["oven/bun"],
      "versioning": "docker"
    },
    {
      "description": "Pre-commit security tools - group together",
      "matchManagers": ["pre-commit"],
      "matchPackageNames": [
        "https://github.com/Yelp/detect-secrets",
        "https://github.com/gitleaks/gitleaks",
        "https://github.com/trufflesecurity/trufflehog"
      ],
      "groupName": "pre-commit-security",
      "groupSlug": "pre-commit-security",
      "labels": ["dependencies", "pre-commit", "security"],
      "semanticCommitType": "chore",
      "semanticCommitScope": "pre-commit"
    },
    {
      "description": "Pre-commit linting tools - group together",
      "matchManagers": ["pre-commit"],
      "matchPackageNames": [
        "https://github.com/pre-commit/pre-commit-hooks",
        "https://github.com/adrienverge/yamllint",
        "https://github.com/koalaman/shellcheck-precommit"
      ],
      "groupName": "pre-commit-linting",
      "groupSlug": "pre-commit-linting",
      "labels": ["dependencies", "pre-commit", "linting"],
      "semanticCommitType": "chore",
      "semanticCommitScope": "pre-commit"
    },
    {
      "description": "Pre-commit validation tools - group together",
      "matchManagers": ["pre-commit"],
      "matchPackageNames": [
        "https://github.com/python-openapi/openapi-spec-validator",
        "https://github.com/hadolint/hadolint"
      ],
      "groupName": "pre-commit-validators",
      "groupSlug": "pre-commit-validators",
      "labels": ["dependencies", "pre-commit"],
      "semanticCommitType": "chore",
      "semanticCommitScope": "pre-commit"
    },
    {
      "description": "Pre-commit minor/patch updates - automerge",
      "matchManagers": ["pre-commit"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Pre-commit major updates - manual review",
      "matchManagers": ["pre-commit"],
      "matchUpdateTypes": ["major"],
      "labels": ["dependencies", "pre-commit", "breaking"],
      "automerge": false
    }
  ],
  "customManagers": [
    {
      "customType": "regex",
      "description": "Update Bun version in GitHub Actions",
      "managerFilePatterns": ["/^\\.github/workflows/.*\\.ya?ml$/"],
      "matchStrings": [
        "BUN_VERSION:\\s*['\"]?(?<currentValue>[^'\"\\s]+)['\"]?"
      ],
      "depNameTemplate": "oven-sh/bun",
      "datasourceTemplate": "github-releases"
    }
  ]
}
